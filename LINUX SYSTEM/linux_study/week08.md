# 파일 유틸리티 

## 1. 파일 속성으로 파일 찾기 
* `find 명령어` : 파일 이름이나 속성을 이용하여 해당하는 파일을 찾음 
* `$ find 디렉터리 [-옵션]`  
    * `$ find 디렉터리 -name 파일명 -print 또는 -ls` : 지정된 디렉터리 아래에서 파일명에 해당되는 파일들을 모두 찾아 그 경로를 출력 

* 파일 소유자(-user)로 검색: `$ find . -user kjy -print` 
* 파일 크기(-size)로 검색: `$ find . -size +1024 -print`
* 파일 종류(-type)로 검색: `$ find ~ -type d -print` 
* 파일의 접근권한(-perm)으로 검색: `$ find . -perm 700 -ls` 
* 파일의 접근시간(-atime) 혹은 수정시간(-mtime)로 검색: `$ find . -atime +30 -print`, `$ find . -mtime -7 -print` 
* find 명령어의 -exec 옵션: 검색한 모든 파일을 대상으로 동일한 작업(명령어)을 수행 
    * `$ find . -name core -exec rm -i {}\;` 
    * $ find  -name `*.txt` -exec rm -i {} \; 

## 2. 파일 필터링 
* `$ grep 패턴 파일*`: 파일(들)을 대상으로 지정된 패턴의 문자열을 검색하고, 해당 문자열을 포함하는 줄들을 출력. 
    * `$ grep with you.txt` 
    * `$ grep -w with you.txt`
    * `$ grep -n with you.txt` 
* grep 명령어의 옵션
    * -i: 대소문자를 무시하고 검색
    * -l: 해당 패턴이 들어있는 파일명을 출력 
    * -n: 각 줄의 줄번호도 함께 출력 
    * -v: 명시된 패턴을 포함하지 않는 줄을 출력 (reverse)
    * -c: 패턴과 일치하는 줄 수를 출력
    * -w: 패턴이 하나의 단어로 된 것만 검색  
* 정규식
    * .: 임의의 한 문자
    * *: 바로 앞의 것을 0번 이상의 반복 
        * 'a*b'는 b, ab, aab, aaab, ... 등의 문자열 
    * []: [와 ] 사이의 문자 중 하나를 의미. - 기호는 문자의 범위를 지정
        * '[abc]d'는 ad,bd,cd를 뜻함. '[a-z]'는 a부터 z까지 중 하나 
    * [^...]: [^와 ] 사이의 문자를 제외한 나머지 문자 중 하나를 의미 
        * '[^abc]d'는 ad,bd,cd는 포함하지 않고 ed, fd 등은 포함. '[^a-z]'는 소문자가 아닌 모든 문자
    * ^.$: 각각 줄의 시작과 끝을 의미
        * ^문자열은 문자열로 시작하는 줄을 나타냄. 문자열$은 문자열로 끝나는 줄을 나타냄 

## 3. 파일 정렬 
* `$ sort [-옵션] 파일*`: 텍스트 파일(들)의 내용을 줄 단위로 정렬. 옵션에 따라 다양한 형태로. 
    * 정렬 필드를 기준으로 줄단위로 오름차순 정렬
    * 기본적으로 각 줄의 첫번째 필드가 정렬 필드로 사용됨
    * -r 옵션을 사용하여 내림차순으로 정렬. 
* 정렬 필드 지정 
    * -k 필드번호 : 필드번호에 해당하는 필드를 기준으로 정렬. (이 옵션에서 필드번호는 1부터 시작됨)
    * +시작필드 -종료필드: 시작필드부터 종료필드-1까지의 필드들을 기준으로 정렬. 이때 필드번호는 0부터 시작됨. 
    * ex> $ sort -k 3 you.txt 혹은 $ sort +2 -3 you.txt 
* sort 명령어 옵션 
    * -o 출력파일 옵션: 정렬된 내용을 지정된 파일에 저장 가능 
        * $ sort -o sort.txt you.txt
    * -n 옵션: 숫자 문자열의 경우에 숫자가 나타내는 값의 크기에 따라 비교하여 정렬
        * "49"와 "100" 

## 4. 파일 비교 
* `$cmp 파일1 파일2`: 파일1과 파일2가 같은지 비교 
    * 두 파일이 같으면 아무 것도 출력하지 않음
    * 두 파일이 서로 다르면 서로 달라지는 위치 출력 
* `$ diff [-i] 파일1 파일2`: 파일1과 파일2를 줄 단위로 비교하여 그 차이점을 출력. -i 옵션은 대소문자를 무시하여 비교 
    * 출력: 첫번째 파일을 두번째 파일내용과 같도록 바꿀 수 있는 편집 명령어 형태 
    * 추가(a): 첫번째 파일의 줄 n1 이후에 두번째 파일의 n3부터 n4까지의 줄들을 추가하면 두 파일은 서로 같다. 
        * n1 a n3,n4 
    * 삭제(d): 첫번째 파일의 n1부터 n2까지의 줄들을 삭제하면 두 번째 파일의 줄 n3 이후와 서로 같다. 
        * n1,n2 d n3 
    * 변경(c): 첫번째 파일의 n1부터 n2까지의 줄들을 두번째 파일의 n3부터 n4까지의 줄들로 대치하면 두 파일은 서로 같음. 
        * n1,n2 c n3,n4 

## 5. 기타 파일 조작 
* 파일분할: `$ split [-l n] 입력파일 [출력파일]` 
    * 하나의 입력파일을 일정한 크기의 여러 개 작은 파일로 분할. -l n옵션을 이용하여 분할할 줄 수를 지정 가능. (default: 1000줄 분할) xaa, xab... 
* 파일합병: `$ cat 파일1 파일2 > 파일3` 
    * 파일1과 파일2의 내용을 붙여서 새로운 파일3을 만들어줌. 재지정.
* 파일합병: `$ paste [-s] [-d구분문자] 파일*`
    * 여러 파일들을 `줄 단위`로 합병하여 하나의 파일을 만들어줌. 
    * -s: 한 파일 끝에 다른 파일 내용을 덧붙임. 
